- name: üß™ Ejecutar prueba de HTML
  shell: bash
  run: |
    > tidy_errors.txt  # limpia el archivo de errores

    for file in *.html; do
      echo "üîç Validando: $file"
      tidy -e "$file" 2>> tidy_errors.txt
    done

    if [[ -s tidy_errors.txt ]]; then
      echo "‚ùå Hay problemas en el test HTML:"
      cat tidy_errors.txt
      echo "::error title=Hay problemas en el test HTML::Corrige los errores detectados en el HTML."
      exit 1
    else
      echo "‚úÖ Todo OK ‚Äì sin errores de marcado"
    fi
